#N canvas 720 100 651 542 10;
#X msg 41 85 1;
#X msg 83 132 0;
#X msg 62 108 bang;
#X msg 114 154 stop;
#X msg 278 154 tempo \$1;
#X floatatom 278 134 5 1 10000 0 - - - 0;
#X obj 43 526 f;
#X obj 72 526 + 1;
#X floatatom 43 547 10 0 0 0 - - - 0;
#X obj 20 526 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 340 154 Set tempo in units of milliseconds.;
#X text 114 132 Zero or "stop" to stop.;
#X text 73 85 Nonzero number or "bang" to start.;
#X text 281 242 Register a function named "bang" to be delayed.;
#X text 281 263 Schedule calling the function after the specified time in milliseconds.;
#X text 281 296 Cancel the scheduled function call.;
#X text 37 32 Simple [metro] obect emulation. You can call a function after a certain duration by using ofClock() class.;
#X obj 43 217 ofelia d \; M.tempo = 300 \; local clock = ofClock(this \, "bang") \; function M.bang() \; clock:delay(M.tempo) \; return nil \; end \; function M.stop() \; clock:unset() \; end \; function M.float(i) \; if i ~= 0 then \; return M.bang() \; else \; M.stop() \; end \; end \;;
#X f 37;
#X connect 0 0 17 0 empty;
#X connect 1 0 17 0 empty;
#X connect 2 0 17 0 empty;
#X connect 3 0 17 0 empty;
#X connect 4 0 17 0 empty;
#X connect 5 0 4 0 empty;
#X connect 6 0 7 0 empty;
#X connect 6 0 8 0 empty;
#X connect 7 0 6 1 empty;
#X connect 17 0 6 0 empty;
#X connect 17 0 9 0 empty;
